{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/*\n * @Author: Innei\n * @Date: 2020-06-20 20:51:31\n * @LastEditTime: 2020-09-05 12:17:31\n * @LastEditors: Innei\n * @FilePath: /candy/utils/utils.ts\n * @Coding with Love\n */\nimport shuffle from 'lodash/shuffle';\nimport RemoveMarkdown from 'remove-markdown';\nconst animeImages = ['qsNmnC2zHB5FW41.jpg', 'GwJzq4SYtClRcZh.jpg', '6nOYcygRGXvpsFd.jpg', 'Qr2ykmsEFpJn4BC.jpg', 'KiOuTlCzge7JHh3.jpg', 'sM2XCJTW8BdUe5i.jpg', '18KQYP9fNGbrzJu.jpg', 'rdjZo6Sg2JReyiA.jpg', 'X2MVRDe1tyJil3O.jpg', 'EDoKvz5p7BXZ46U.jpg', 'EGk4qUvcXDygV2z.jpg', '5QdwFC82gT3XPSZ.jpg', 'KPyTCARHBzpxJ46.jpg', '7TOEIPwGrZB1qFb.jpg', 'Ihj5QAZgVMqr9fJ.jpg', 'KZ6jv8C92Vpwcih.jpg'].map(i => 'https://i.loli.net/2020/05/22/' + i);\nexport const getAnimationImages = () => {\n  return [...animeImages];\n};\nexport const getRandomImage = (count = 1) => {\n  return shuffle(animeImages).slice(0, count);\n};\nexport const isClientSide = () => {\n  return false;\n};\nexport const isServerSide = () => {\n  return !isClientSide();\n};\nexport function getSummaryFromMd(text, options = {\n  count: false,\n  length: 150\n}) {\n  const rawText = RemoveMarkdown(text, {\n    gfm: true\n  });\n  const description = rawText.slice(0, options.length).replace(/[\\s]/gm, ' ');\n\n  if (options.count) {\n    return {\n      description,\n      wordCount: rawText.length\n    };\n  }\n\n  return description;\n}\nexport function flattenChildren(data, level = 0) {\n  return data.reduce((arr, _ref) => {\n    let {\n      children = []\n    } = _ref,\n        rest = _objectWithoutProperties(_ref, [\"children\"]);\n\n    return (// @ts-ignore\n      arr.concat([_objectSpread({}, rest)], flattenChildren(children, level + 1))\n    );\n  }, []);\n}\nexport function _uuid() {\n  let d = Date.now();\n\n  if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\n    d += performance.now(); //use high-precision timer if available\n  }\n\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === 'x' ? r : r & 0x3 | 0x8).toString(16);\n  });\n}\nexport class UUID {\n  constructor() {\n    _defineProperty(this, \"uuid\", _uuid());\n  }\n\n  equal(uuid) {\n    return uuid.uuid === this.uuid;\n  }\n\n}\n\nUUID.prototype.toString = function () {\n  return this.uuid;\n};\n\nexport function isValidDate(d) {\n  // @ts-ignore\n  const r = d instanceof Date && !isNaN(d);\n  return r ? d.toISOString() : false;\n}","map":null,"metadata":{},"sourceType":"module"}