{"ast":null,"code":"var __jsx = React.createElement;\nimport { PostBlock } from 'components/PostBlock';\nimport { Core } from 'core';\nimport { ArticleLayout } from 'layouts/ArticleLayout';\nimport { useRouter } from 'next/router';\nimport React, { useEffect } from 'react';\nimport { observer } from 'utils/mobx';\nimport { SEO } from '../../components/SEO';\nconst Post = observer(props => {\n  const {\n    query: page,\n    posts\n  } = props;\n  const router = useRouter();\n  const {\n    query: {\n      page: currentPage\n    }\n  } = router;\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }, [currentPage]);\n  return __jsx(ArticleLayout, null, __jsx(SEO, {\n    title: '博文'\n  }), __jsx(\"article\", {\n    className: \"paul-note\"\n  }, posts.map(post => {\n    const {\n      slug,\n      content,\n      created,\n      title\n    } = post;\n    return __jsx(PostBlock, {\n      title: title,\n      date: created,\n      key: slug,\n      text: content,\n      slug: slug // category={}\n\n    });\n  })), __jsx(\"section\", {\n    className: \"paul-more\"\n  }, page.hasPrev && __jsx(\"button\", {\n    className: \"btn brown\",\n    onClick: () => {\n      router.push('/posts?page=' + (page.currentPage - 1));\n    }\n  }, \"\\u4E0A\\u4E00\\u9875\"), page.hasNext && __jsx(\"button\", {\n    className: \"btn brown\",\n    style: page.hasNext && page.hasPrev ? {\n      marginLeft: '6px'\n    } : undefined,\n    onClick: () => {\n      router.push('/posts?page=' + (page.currentPage + 1));\n    }\n  }, \"\\u4E0B\\u4E00\\u9875\")));\n});\nexport const getStaticProps = async context => {\n  const pager = Core.fetcher.getPostsByPager();\n  return {\n    props: pager\n  };\n}; // export const getStaticPaths: GetStaticPaths = async () => {\n//   const paths = Core.fetcher.articles.getKeys().map((k) => {\n//     return {\n//       params: {\n//         slug: k,\n//       },\n//     }\n//   })\n//   return {\n//     paths,\n//     fallback: false,\n//   }\n// }\n\nexport default Post;","map":null,"metadata":{},"sourceType":"module"}