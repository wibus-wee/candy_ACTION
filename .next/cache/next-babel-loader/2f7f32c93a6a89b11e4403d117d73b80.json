{"ast":null,"code":"/*\n * @Author: Innei\n * @Date: 2020-06-11 13:31:05\n * @LastEditTime: 2020-09-02 20:03:18\n * @LastEditors: Innei\n * @FilePath: /mx-web/common/markdown/rules/spoiler.ts\n * @Coding with Love\n */\nfunction tokenizeSpoiler(eat, value, silent) {\n  const match = /^\\|\\|([\\s\\S]+?)\\|\\|(?!\\|)/.exec(value);\n\n  if (match) {\n    if (silent) {\n      return true;\n    }\n\n    try {\n      return eat(match[0])({\n        type: 'spoiler',\n        value: match[1]\n      }); // eslint-disable-next-line no-empty\n    } catch {}\n  }\n}\n\ntokenizeSpoiler.notInLink = true;\n\ntokenizeSpoiler.locator = function (value, fromIndex) {\n  return value.indexOf('||', fromIndex);\n};\n\nfunction spoiler() {\n  const Parser = this.Parser;\n  const tokenizers = Parser.prototype.inlineTokenizers;\n  const methods = Parser.prototype.inlineMethods; // Add an inline tokenizer (defined in the following example).\n\n  tokenizers.spoiler = tokenizeSpoiler; // Run it just before `text`.\n\n  methods.splice(methods.indexOf('text'), 0, 'spoiler');\n}\n\nexport { spoiler };","map":null,"metadata":{},"sourceType":"module"}